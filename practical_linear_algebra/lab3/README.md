# Лабораторная работа №3: Матрицы в 3D-графике

## Описание

Данная лабораторная работа посвящена изучению матричных преобразований в 3D-графике. В ходе работы были реализованы основные типы преобразований: масштабирование, перемещение, вращение, а также системы камеры и перспективной проекции.

## Структура проекта

```
lab3/
├── python/                    # Python скрипты
│   ├── lab3_task1.py         # Создание базового кубика
│   ├── lab3_task2.py         # Масштабирование кубика
│   ├── lab3_task4.py         # Вращение вокруг осей
│   ├── lab3_task5.py         # Вращение вокруг вершин
│   ├── lab3_task6.py         # Реализация камеры
│   ├── lab3_task7.py         # Перспективная проекция
│   └── test_simple.py        # Тестовый скрипт
├── images/                    # Генерируемые изображения
│   ├── task1/                # Изображения для задания 1
│   ├── task2/                # Изображения для задания 2
│   ├── task4/                # Изображения для задания 4
│   ├── task5/                # Изображения для задания 5
│   ├── task6/                # Изображения для задания 6
│   └── task7/                # Изображения для задания 7
├── 1_title.tex              # Титульный лист
├── 2_intro.tex              # Основная часть отчета
├── PLA_lab3_report.tex      # Главный LaTeX файл
└── README.md                # Этот файл
```

## Выполненные задания

### Задание 1: Создание кубика
- Реализован базовый кубик в 3D пространстве
- Использованы однородные координаты для представления вершин
- Создана функция отрисовки 3D объектов

### Задание 2: Масштабирование кубика
- Реализованы различные типы масштабирования:
  - Равномерное масштабирование
  - Неравномерное масштабирование
  - Растяжение по отдельным осям
  - Сжатие
- Демонстрировано некоммутативность преобразований TS ≠ ST

### Задание 3: Перемещение кубика
- Реализована матрица перемещения
- Исследованы свойства коммутативности перемещения

### Задание 4: Вращение кубика
- Реализована формула вращения вокруг произвольной оси: R_v(θ) = e^(Jθ)
- Созданы матрицы вращения вокруг координатных осей Rx, Ry, Rz
- Исследована теорема вращения Эйлера
- Добавлена визуализация осей вращения

### Задание 5: Вращение вокруг вершины
- Реализован алгоритм вращения вокруг произвольной точки
- Использована композиция преобразований: T₂·R·T₁
- Демонстрированы вращения вокруг различных вершин кубика

### Задание 6: Реализация камеры
- Создана система камеры с матрицей вида
- Реализованы различные позиции камеры
- Демонстрирован эффект применения матрицы камеры к сцене

### Задание 7: Реализация перспективы
- Реализована матрица перспективной проекции
- Исследованы различные параметры перспективы (FOV, aspect ratio, near/far planes)
- Сравнение с ортографической проекцией
- Демонстрация эффекта расстояния

## Математические основы

### Однородные координаты
Точка (x, y, z) представляется как (x, y, z, w), где w - однородная координата.
Преобразование в декартовы координаты: (x/w, y/w, z/w)

### Матрицы преобразований

#### Масштабирование
```
S = [sx  0   0   0]
    [0   sy  0   0]
    [0   0   sz  0]
    [0   0   0   1]
```

#### Перемещение
```
T = [1   0   0   tx]
    [0   1   0   ty]
    [0   0   1   tz]
    [0   0   0   1]
```

#### Вращение вокруг оси v
```
J = (1/||v||) * [0   -vz  vy  0]
                 [vz   0   -vx 0]
                 [-vy  vx   0  0]
                 [0    0    0  0]

R_v(θ) = e^(Jθ)
```

#### Перспективная проекция
```
P = [f/aspect  0    0    0]
    [0          f    0    0]
    [0          0    A    B]
    [0          0   -1    0]
```
где f = 1/tan(FOV/2), A = (far+near)/(near-far), B = (2*far*near)/(near-far)

## Запуск кода

Для выполнения всех заданий:

```bash
# Создание базового кубика
python3 python/lab3_task1.py

# Масштабирование
python3 python/lab3_task2.py

# Вращения
python3 python/lab3_task4.py

# Вращение вокруг вершин
python3 python/lab3_task5.py

# Реализация камеры
python3 python/lab3_task6.py

# Перспективная проекция
python3 python/lab3_task7.py
```

## Компиляция отчета

```bash
xelatex PLA_lab3_report.tex
```

## Требования

- Python 3.x
- NumPy
- Matplotlib
- SciPy
- XeLaTeX (для компиляции отчета)

## Результаты

Все задания успешно выполнены. Созданы:
- 7 Python скриптов с реализацией различных преобразований
- 15+ изображений, демонстрирующих результаты
- Подробный LaTeX отчет с математическими обоснованиями
- Документация проекта

## Ключевые выводы

1. **Однородные координаты** позволяют объединить линейные и аффинные преобразования
2. **Некоммутативность преобразований**: порядок применения матриц важен
3. **Вращение вокруг произвольной оси** реализуется через экспоненциальную матрицу
4. **Матрица камеры** позволяет преобразовать сцену к стандартному виду
5. **Перспективная проекция** создает эффект глубины и реалистичности

## Практическая значимость

Полученные результаты имеют важное значение для:
- Разработки 3D-графических приложений
- Создания компьютерных игр
- Моделирования в CAD-системах
- Компьютерной анимации
- Визуализации научных данных 